knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
data <- read_sas("C:\\Users\\Jianyi Xu\\Desktop\\JackiePackage\\Data\\completedata-4.sas7bdat")
selected_data <- data[, c("Age", "Sex", "Depression")]
fit_result <- Fit(selected_data, "Depression")
lm_result <- lm(Depression ~ Age + Sex, data = data)
jackie_coefs <- as.vector(fit_result$coefficients)
lm_coefs <- lm_result$coefficients
names(jackie_coefs) <- names(lm_coefs)
coeff_comparison <- all.equal(jackie_coefs, lm_coefs, tolerance = 1e-5)
print(paste("Coefficient equivalence: ", coeff_comparison))
library(bench)
efficiency_comparison <- bench::mark(
Jackie = {
Fit(selected_data, "Depression")
},
BaseR = {
lm(Depression ~ Age + Sex, data = selected_data)
},
iterations = 100,
check = FALSE
)
print(efficiency_comparison)
Summary(fit_result)
summary(lm_result)
Summary(fit_result)
ANOVA(fit_result)
ANOVA(fit_result)
anova(lm_result)
# New data for prediction
new_data <- data.frame(
Age = c(28, 36, 42),
Sex = c(1, 0, 1)
)
# Predict using JackiePackage
jackie_predictions <- Predict(fit_result, new_data)
print("Predictions using JackiePackage:")
print(jackie_predictions)
# Predict using base R
lm_result <- lm(Depression ~ Age + Sex, data = data)
base_predictions <- predict(lm_result, newdata = new_data)
print("Predictions using Base R:")
print(base_predictions)
# Confirm equivalence of predictions
identical_predictions <- all.equal(as.vector(jackie_predictions), as.vector(base_predictions))
print(paste("Are predictions identical? ", identical_predictions))
?Predict
?Fit
?ANOVA
?Summary
setwd("C:/Users/Jianyi Xu/Desktop/JackiePackage1")
install.packages("testthat")
usethis::use_testthat()
?Fit
usethis::use_test("fit")
usethis::use_test("predict")
usethis::use_test("summary")
usethis::use_test("anova")
devtools::test()
install.packages("covr")
covr::report()
devtools::test()
devtools::test()
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
data <- read_sas("C:\\Users\\Jianyi Xu\\Desktop\\JackiePackage\\Data\\completedata-4.sas7bdat")
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
data <- read_sas("C:\\Users\\Jianyi Xu\\Desktop\\JackiePackage1\\Data\\completedata-4.sas7bdat")
selected_data <- data[, c("Age", "Sex", "Depression")]
fit_result <- Fit(selected_data, "Depression")
lm_result <- lm(Depression ~ Age + Sex, data = data)
jackie_coefs <- as.vector(fit_result$coefficients)
lm_coefs <- lm_result$coefficients
names(jackie_coefs) <- names(lm_coefs)
coeff_comparison <- all.equal(jackie_coefs, lm_coefs, tolerance = 1e-5)
print(paste("Coefficient equivalence: ", coeff_comparison))
library(bench)
efficiency_comparison <- bench::mark(
Jackie = {
Fit(selected_data, "Depression")
},
BaseR = {
lm(Depression ~ Age + Sex, data = selected_data)
},
iterations = 100,
check = FALSE
)
print(efficiency_comparison)
Summary(fit_result)
summary(lm_result)
Summary(fit_result)
ANOVA(fit_result)
ANOVA(fit_result)
anova(lm_result)
# New data for prediction
new_data <- data.frame(
Age = c(28, 36, 42),
Sex = c(1, 0, 1)
)
# Predict using JackiePackage
jackie_predictions <- Predict(fit_result, new_data)
print("Predictions using JackiePackage:")
print(jackie_predictions)
# Predict using base R
lm_result <- lm(Depression ~ Age + Sex, data = data)
base_predictions <- predict(lm_result, newdata = new_data)
print("Predictions using Base R:")
print(base_predictions)
# Confirm equivalence of predictions
identical_predictions <- all.equal(as.vector(jackie_predictions), as.vector(base_predictions))
print(paste("Are predictions identical? ", identical_predictions))
devtools::test()
devtools::test()
covr::report()
covr::report()
install.packages("DT")
covr::report()
covr::report()
devtools::document()
devtools::check()
devtools::test()
devtools::test()
devtools::test()
covr::report()
devtools::test()
devtools::test()
covr::report()
devtools::test()
?Fit
usethis::use_testthat()
mkdir -p .github/workflows
.github/workflows/R-CI.yml
?Fit
library(JackiePackage)
?Fit
?Summary
?Summary
?ANOVA
?Predict
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
file_path <- system.file("Data", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
selected_data <- data[, c("Age", "Sex", "Depression")]
fit_result <- Fit(selected_data, "Depression")
lm_result <- lm(Depression ~ Age + Sex, data = data)
jackie_coefs <- as.vector(fit_result$coefficients)
lm_coefs <- lm_result$coefficients
names(jackie_coefs) <- names(lm_coefs)
coeff_comparison <- all.equal(jackie_coefs, lm_coefs, tolerance = 1e-5)
print(paste("Coefficient equivalence: ", coeff_comparison))
library(bench)
efficiency_comparison <- bench::mark(
Jackie = {
Fit(selected_data, "Depression")
},
BaseR = {
lm(Depression ~ Age + Sex, data = selected_data)
},
iterations = 100,
check = FALSE
)
print(efficiency_comparison)
Summary(fit_result)
summary(lm_result)
Summary(fit_result)
ANOVA(fit_result)
ANOVA(fit_result)
anova(lm_result)
# New data for prediction
new_data <- data.frame(
Age = c(28, 36, 42),
Sex = c(1, 0, 1)
)
# Predict using JackiePackage
jackie_predictions <- Predict(fit_result, new_data)
print("Predictions using JackiePackage:")
print(jackie_predictions)
# Predict using base R
lm_result <- lm(Depression ~ Age + Sex, data = data)
base_predictions <- predict(lm_result, newdata = new_data)
print("Predictions using Base R:")
print(base_predictions)
# Confirm equivalence of predictions
identical_predictions <- all.equal(as.vector(jackie_predictions), as.vector(base_predictions))
print(paste("Are predictions identical? ", identical_predictions))
library(haven)
file_path <- system.file("Data", "completedata-4.sas7bdat", package = "JackiePackage")
# 确保文件存在
if (file.exists(file_path)) {
data <- haven::read_sas(file_path)
} else {
stop("Data file not found!")
}
library(haven)
file_path <- system.file("Data", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
file_path <- system.file("Data", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
View(data)
R CMD build .
R CMD build
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
file_path <- system.file("extdata", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
setwd("C:/Users/Jianyi Xu/Desktop/JackiePackage1")
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
file_path <- system.file("extdata", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
setwd("C:/Users/Jianyi Xu/Desktop/JackiePackage1")
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
file_path <- system.file("extdata", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
file_path <- system.file("extdata", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
library(haven)
file_path <- system.file("extdata", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
library(haven)
file_path <- system.file("extdata", "completedata-4.sas7bdat", package = "JackiePackage")
if (file.exists(file_path)) {
data <- haven::read_sas(file_path)
} else {
stop("Data file not found!")
}
library(haven)
file_path <- system.file("inst\\extdata", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
knitr::opts_chunk$set(echo = TRUE)
library(JackiePackage)
library(haven)
file_path <- system.file("Data", "completedata-4.sas7bdat", package = "JackiePackage")
data <- haven::read_sas(file_path)
selected_data <- data[, c("Age", "Sex", "Depression")]
fit_result <- Fit(selected_data, "Depression")
lm_result <- lm(Depression ~ Age + Sex, data = data)
jackie_coefs <- as.vector(fit_result$coefficients)
lm_coefs <- lm_result$coefficients
names(jackie_coefs) <- names(lm_coefs)
coeff_comparison <- all.equal(jackie_coefs, lm_coefs, tolerance = 1e-5)
print(paste("Coefficient equivalence: ", coeff_comparison))
library(bench)
efficiency_comparison <- bench::mark(
Jackie = {
Fit(selected_data, "Depression")
},
BaseR = {
lm(Depression ~ Age + Sex, data = selected_data)
},
iterations = 100,
check = FALSE
)
print(efficiency_comparison)
Summary(fit_result)
summary(lm_result)
Summary(fit_result)
ANOVA(fit_result)
ANOVA(fit_result)
anova(lm_result)
# New data for prediction
new_data <- data.frame(
Age = c(28, 36, 42),
Sex = c(1, 0, 1)
)
# Predict using JackiePackage
jackie_predictions <- Predict(fit_result, new_data)
print("Predictions using JackiePackage:")
print(jackie_predictions)
# Predict using base R
lm_result <- lm(Depression ~ Age + Sex, data = data)
base_predictions <- predict(lm_result, newdata = new_data)
print("Predictions using Base R:")
print(base_predictions)
# Confirm equivalence of predictions
identical_predictions <- all.equal(as.vector(jackie_predictions), as.vector(base_predictions))
print(paste("Are predictions identical? ", identical_predictions))
